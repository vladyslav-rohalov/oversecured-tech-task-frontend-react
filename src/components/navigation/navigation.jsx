import { useState } from 'react';
import { Container, NavContainer, LinkStyled, Auth } from './nafivation.styled';
import { Button } from '@mui/material';
import { ModalWindow } from 'components/modal/modal';

export default function Navigation({
  onLoginSubmit,
  onRegisterSubmit,
  onLogOutClick,
  isLogin,
}) {
  const [loginModal, setLoginModal] = useState(false);
  const [regiserModal, setRegisterModal] = useState(false);
  const toggleLoginModal = () => setLoginModal(!loginModal);
  const toggleRegisterModal = () => setRegisterModal(!regiserModal);

  const handleSignIn = e => {
    e.preventDefault();
    const credentials = {
      email: e.target[0].value,
      password: e.target[2].value,
    };
    onLoginSubmit(credentials);
    setLoginModal(false);
  };

  const handleSignUp = e => {
    e.preventDefault();
    const credentials = {
      email: e.target[0].value,
      password: e.target[2].value,
    };
    onRegisterSubmit(credentials);
    setRegisterModal(false);
  };

  const handleSignOut = e => {
    onLogOutClick(e);
    setLoginModal(false);
  };

  return (
    <Container>
      <NavContainer>
        <LinkStyled href="/">
          <svg
            width="180"
            height="100%"
            viewBox="0 0 180 19"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M36.1759 3.22591C37.2007 3.81706 38.0453 4.68352 38.6171 5.73019C39.2215 6.84171 39.5291 8.09443 39.5095 9.36401C39.5287 10.6371 39.2212 11.8932 38.6171 13.0089C38.048 14.0604 37.203 14.9311 36.1759 15.5241C35.1203 16.1116 33.936 16.4195 32.7323 16.4195C31.5287 16.4195 30.3444 16.1116 29.2888 15.5241C28.2609 14.9322 27.4156 14.0612 26.8475 13.0089C26.2422 11.8937 25.9345 10.6372 25.9551 9.36401C25.9341 8.09426 26.2419 6.84119 26.8475 5.73019C27.4183 4.68274 28.2632 3.81603 29.2888 3.22591C30.3444 2.63849 31.5287 2.33057 32.7323 2.33057C33.936 2.33057 35.1203 2.63849 36.1759 3.22591ZM30.6315 5.41336C30.0211 5.78655 29.531 6.33222 29.221 6.9837C28.8765 7.72722 28.7093 8.54265 28.7327 9.36401C28.7118 10.1881 28.8828 11.0056 29.2318 11.7498C29.5393 12.3996 30.0254 12.945 30.6315 13.3202C31.2722 13.678 31.9916 13.8657 32.7228 13.8657C33.4541 13.8657 34.1734 13.678 34.8142 13.3202C35.4232 12.9465 35.9129 12.4022 36.2247 11.7526C36.5769 11.0082 36.7507 10.1897 36.7319 9.36401C36.7503 8.53925 36.5765 7.72176 36.2247 6.97819C35.9139 6.32725 35.4239 5.78178 34.8142 5.40785C34.173 5.05082 33.4534 4.86412 32.7221 4.86508C31.9909 4.86604 31.2718 5.05464 30.6315 5.41336Z"
              fill="#242424"
            />
            <path
              d="M45.3569 2.52344L48.9836 13.4194L52.6292 2.52344H55.5261L50.7304 16.2983H47.2557L42.46 2.52344H45.3569Z"
              fill="#242424"
            />
            <path
              d="M61.6109 4.70814V8.27308H66.4066V10.3724H61.6109V14.0806H66.979V16.2846H58.9038V2.52344H66.979V4.70814H61.6109Z"
              fill="#242424"
            />
            <path
              d="M77.9572 16.2846L74.7917 10.9234H73.6036V16.2846H70.8911V2.52344H76.0449C77.6181 2.52344 78.8171 2.91373 79.6417 3.6943C80.0536 4.08685 80.3776 4.56486 80.5914 5.09585C80.8053 5.62684 80.9042 6.19838 80.8813 6.77162C80.9129 7.71793 80.6098 8.64445 80.0269 9.38334C79.3887 10.126 78.5178 10.6223 77.5612 10.7884L80.9383 16.2983L77.9572 16.2846ZM73.6036 9.03346H75.8279C77.3758 9.03346 78.1498 8.33829 78.1498 6.94794C78.1647 6.66627 78.122 6.38453 78.0244 6.12044C77.9268 5.85635 77.7765 5.61563 77.5829 5.41341C77.2067 5.04608 76.6217 4.86242 75.8279 4.86242H73.6036V9.03346Z"
              fill="#242424"
            />
            <path
              d="M93.4232 14.4608C93.0559 15.074 92.523 15.5674 91.8879 15.8823C91.1183 16.2662 90.2686 16.4553 89.4114 16.4333C88.5307 16.4486 87.6564 16.2798 86.8427 15.9374C86.1224 15.6335 85.4957 15.1388 85.028 14.5048C84.5657 13.8615 84.2963 13.0961 84.2522 12.3009H87.1302C87.1793 12.831 87.4142 13.3257 87.792 13.6949C87.9943 13.8837 88.2316 14.0297 88.4901 14.1243C88.7486 14.219 89.0231 14.2603 89.2975 14.2459C89.5323 14.2615 89.7678 14.2291 89.9901 14.1505C90.2123 14.0719 90.4168 13.9489 90.5914 13.7885C90.7419 13.6337 90.8598 13.4492 90.9377 13.2465C91.0156 13.0437 91.0519 12.8269 91.0443 12.6094C91.0584 12.2208 90.9276 11.841 90.6782 11.546C90.4232 11.2621 90.1116 11.0367 89.764 10.8848C89.3915 10.7177 88.8798 10.523 88.2288 10.3007C87.5182 10.0704 86.8256 9.78675 86.1564 9.4522C85.6091 9.16438 85.1382 8.74665 84.7839 8.2345C84.3824 7.61778 84.1838 6.88757 84.2169 6.14898C84.195 5.61513 84.2976 5.08358 84.5163 4.59764C84.735 4.1117 85.0637 3.68512 85.4755 3.35267C86.3128 2.66944 87.4222 2.32874 88.8038 2.33057C90.236 2.33057 91.378 2.68137 92.2297 3.38298C92.6474 3.72481 92.9914 4.15013 93.2406 4.63256C93.4897 5.11499 93.6387 5.64425 93.6782 6.18755H90.7568C90.6931 5.72258 90.4761 5.2933 90.1411 4.96985C89.7678 4.63689 89.2809 4.46578 88.7848 4.49323C88.3471 4.47225 87.9169 4.6143 87.575 4.89271C87.4179 5.0388 87.2952 5.21888 87.2158 5.41963C87.1365 5.62039 87.1026 5.8367 87.1166 6.05255C87.104 6.42025 87.2302 6.77895 87.4692 7.05537C87.7226 7.33421 88.0301 7.55656 88.3725 7.7083C88.8576 7.92376 89.3538 8.1123 89.859 8.27307C90.5826 8.52284 91.291 8.81631 91.9802 9.15191C92.5345 9.43596 93.0108 9.85531 93.3663 10.3724C93.7744 11.008 93.9755 11.7577 93.9413 12.5157C93.9474 13.2001 93.7682 13.8729 93.4232 14.4608Z"
              fill="#242424"
            />
            <path
              d="M100.559 4.70814V8.27308H105.358V10.3724H100.559V14.0806H105.933V16.2846H97.855V2.52344H105.933V4.70814H100.559Z"
              fill="#242424"
            />
            <path
              d="M120.171 3.7135C121.297 4.61876 122.077 5.89391 122.377 7.31977H119.537C119.265 6.60688 118.786 5.9948 118.164 5.56485C117.502 5.12207 116.722 4.897 115.929 4.92018C115.24 4.90909 114.563 5.1023 113.98 5.47614C113.398 5.84999 112.936 6.38824 112.65 7.02499C112.315 7.77062 112.151 8.5834 112.17 9.40254C112.154 10.2117 112.318 11.0141 112.65 11.7498C112.934 12.3878 113.396 12.9273 113.979 13.3014C114.562 13.6755 115.24 13.8678 115.929 13.8546C116.721 13.8786 117.502 13.6545 118.164 13.2127C118.784 12.7871 119.262 12.1811 119.537 11.4743H122.377C122.077 12.9001 121.297 14.1753 120.171 15.0806C119.056 15.9658 117.654 16.4075 115.967 16.4057C114.769 16.4278 113.588 16.1193 112.549 15.5131C111.562 14.9297 110.762 14.0686 110.246 13.0336C109.689 11.9103 109.41 10.6658 109.433 9.40805C109.408 8.14489 109.688 6.89477 110.246 5.76596C110.761 4.73342 111.556 3.87276 112.538 3.28648C113.579 2.67409 114.765 2.36166 115.967 2.38285C117.656 2.38285 119.058 2.8264 120.171 3.7135Z"
              fill="#242424"
            />
            <path
              d="M128.939 2.52344V10.5928C128.939 11.6709 129.172 12.4799 129.639 13.0199C130.105 13.5599 130.781 13.829 131.665 13.8271C132.533 13.8271 133.203 13.5516 133.669 13.0199C134.136 12.4882 134.369 11.67 134.369 10.5928V2.52344H137.055V10.5928C137.089 11.7105 136.849 12.8194 136.355 13.8189C135.924 14.6592 135.247 15.3434 134.418 15.7777C133.545 16.2213 132.581 16.4461 131.605 16.4333C129.978 16.4333 128.679 15.9393 127.71 14.9512C126.741 13.963 126.255 12.5102 126.253 10.5928V2.52344H128.939Z"
              fill="#242424"
            />
            <path
              d="M148.414 16.2846L145.248 10.9234H144.057V16.2846H141.345V2.52344H146.498C148.072 2.52344 149.271 2.91373 150.095 3.6943C150.507 4.08694 150.831 4.56489 151.046 5.09582C151.26 5.62674 151.36 6.19824 151.338 6.77162C151.369 7.71741 151.067 8.64348 150.486 9.38334C149.848 10.126 148.977 10.6223 148.02 10.7884L151.397 16.2983L148.414 16.2846ZM144.057 9.03346H146.284C147.83 9.03346 148.604 8.33829 148.606 6.94794C148.62 6.66632 148.578 6.38473 148.48 6.12071C148.382 5.85669 148.232 5.61592 148.039 5.41341C147.663 5.04608 147.078 4.86242 146.284 4.86242H144.057V9.03346Z"
              fill="#242424"
            />
            <path
              d="M157.797 4.70814V8.27308H162.595V10.3724H157.797V14.0806H163.17V16.2846H155.092V2.52344H163.17V4.70814H157.797Z"
              fill="#242424"
            />
            <path
              d="M178.154 12.9889C177.595 14.0254 176.745 14.8701 175.713 15.4161C174.533 16.021 173.223 16.3191 171.902 16.2839H167.084V2.52277H171.899C173.218 2.48821 174.526 2.77939 175.71 3.37131C176.742 3.90332 177.593 4.73847 178.152 5.76814C178.737 6.87851 179.031 8.12331 179.006 9.38268C179.031 10.639 178.737 11.8807 178.154 12.9889ZM175.057 12.6584C175.856 11.8796 176.255 10.7877 176.255 9.38268C176.255 7.97764 175.856 6.88024 175.057 6.09047C174.254 5.31173 173.129 4.92144 171.682 4.91961H169.783V13.8265H171.682C173.129 13.8265 174.254 13.4371 175.057 12.6584Z"
              fill="#242424"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M8.5333 0C3.73878 0.496232 0 4.54873 0 9.47447C0 14.7353 4.26472 19 9.52553 19C14.7863 19 19.0511 14.7353 19.0511 9.47447C19.0511 4.54874 15.3123 0.496249 10.5178 3.05164e-06V2.04072C14.1903 2.52621 17.0243 5.66937 17.0243 9.47447C17.0243 13.616 13.667 16.9733 9.52553 16.9733C5.38404 16.9733 2.02671 13.616 2.02671 9.47447C2.02671 5.66936 4.86082 2.5262 8.5333 2.04072V0Z"
              fill="#242424"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M4.55531 13.5282C6.48579 15.9192 9.9222 16.6166 12.6672 15.0318C15.7045 13.2782 16.7452 9.3944 14.9916 6.35707C13.238 3.31974 9.35418 2.27908 6.31685 4.03268C3.57186 5.6175 2.45767 8.94223 3.56307 11.8096L5.36998 10.7663C4.80921 8.89908 5.57931 6.8239 7.3411 5.80673C9.39865 4.61881 12.0296 5.32378 13.2175 7.38132C14.4055 9.43886 13.7005 12.0698 11.643 13.2578C9.88116 14.2749 7.69893 13.9043 6.36221 12.485L4.55531 13.5282Z"
              fill="#242424"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M8.46605 6.48096C7.23351 6.91721 6.35059 8.09299 6.35059 9.47499C6.35059 11.2286 7.77216 12.6502 9.52576 12.6502C11.2794 12.6502 12.7009 11.2286 12.7009 9.47499C12.7009 8.093 11.818 6.91722 10.5855 6.48096V9.47465H10.5842C10.5842 9.47476 10.5842 9.47488 10.5842 9.47499C10.5842 10.0595 10.1103 10.5334 9.52576 10.5334C8.94123 10.5334 8.46737 10.0595 8.46737 9.47499C8.46737 9.47488 8.46737 9.47476 8.46737 9.47465H8.46605V6.48096Z"
              fill="#242424"
            />
          </svg>
        </LinkStyled>{' '}
      </NavContainer>
      <Auth>
        {isLogin ? (
          <Button variant="outlined" onClick={handleSignOut}>
            Sign Out
          </Button>
        ) : (
          <>
            <Button variant="outlined" onClick={toggleLoginModal}>
              Sign In
            </Button>
            <ModalWindow
              modalName={loginModal}
              toggleModal={toggleLoginModal}
              text="Sign In"
              handleMethod={handleSignIn}
              label1="Email"
              label2="Password"
            />
            <Button variant="outlined" onClick={toggleRegisterModal}>
              Sign Up
            </Button>
            <ModalWindow
              modalName={regiserModal}
              toggleModal={toggleRegisterModal}
              text="Sign Up"
              handleMethod={handleSignUp}
              label1="Email"
              label2="Password"
            />
          </>
        )}
      </Auth>
    </Container>
  );
}
